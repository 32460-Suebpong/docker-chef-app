name: Python Robot Level 2 ğŸ¤–ğŸ­

on:
  push:
    branches: [ "main" ]

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    steps:
    # 1. à¸”à¸¶à¸‡à¹‚à¸„à¹‰à¸”à¸¡à¸²
    - name: ğŸšš Checkout code
      uses: actions/checkout@v3

    # 2. à¸¥à¹‡à¸­à¸à¸­à¸´à¸™à¹€à¸‚à¹‰à¸² Docker Hub (à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¸à¸¸à¸à¹à¸ˆà¸ˆà¸²à¸ Secrets à¸—à¸µà¹ˆà¹€à¸£à¸²à¹€à¸à¸´à¹ˆà¸‡à¹ƒà¸ªà¹ˆ)
    - name: ğŸ”‘ Login to Docker Hub
      uses: docker/login-action@v2
      with:
        username: ${{ secrets.DOCKER_USERNAME }}
        password: ${{ secrets.DOCKER_PASSWORD }}

    # 3. à¸›à¸£à¸¸à¸‡à¸­à¸²à¸«à¸²à¸£à¹à¸¥à¸°à¸ªà¹ˆà¸‡à¹€à¸‚à¹‰à¸²à¹‚à¸à¸”à¸±à¸‡ (Build & Push)
    - name: ğŸ³ Build and Push Docker Image
      uses: docker/build-push-action@v4
      with:
        context: .
        push: true
        # ğŸ‘‡ à¹à¸à¹‰à¸•à¸£à¸‡à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸Šà¸·à¹ˆà¸­ Docker Hub à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸™à¸°à¸„à¸£à¸±à¸š
        tags: shutjane/my-chef-app:latest